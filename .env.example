# =============================================================================
# ETRM Matchmaker - Environment Variables
# =============================================================================
# Copy this file to .env.local for local development
# For production (Vercel), set these in the Environment Variables dashboard

# =============================================================================
# REQUIRED - Core Configuration
# =============================================================================

# Database URL (PostgreSQL)
# For Supabase: Use the connection pooler URL (port 6543) for better performance
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/curated_job_engine?schema=public"
# For Supabase pooler:
# DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct database URL (for migrations only - bypasses pooler)
# DIRECT_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres?sslmode=require"

# Application URL
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# NextAuth.js configuration
# Generate with: openssl rand -base64 32
AUTH_SECRET="your-random-32-character-secret-here"
NEXTAUTH_SECRET="your-random-32-character-secret-here"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth credentials
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# =============================================================================
# REQUIRED FOR PRODUCTION - File Storage
# =============================================================================

# Storage provider: S3 | R2 | SUPABASE | LOCAL
# WARNING: LOCAL stores files in the database - only use for development!
STORAGE_PROVIDER="LOCAL"

# --- Option 1: Cloudflare R2 (Recommended - free egress) ---
# R2_ACCOUNT_ID="your-cloudflare-account-id"
# R2_BUCKET="your-bucket-name"
# R2_ACCESS_KEY_ID="your-r2-access-key-id"
# R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"

# --- Option 2: AWS S3 ---
# S3_BUCKET="your-bucket-name"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID="your-aws-access-key-id"
# S3_SECRET_ACCESS_KEY="your-aws-secret-access-key"
# S3_ENDPOINT="https://s3.us-east-1.amazonaws.com"  # Optional: custom endpoint

# --- Option 3: Supabase Storage ---
# SUPABASE_URL="https://your-project.supabase.co"
# SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"
# SUPABASE_STORAGE_BUCKET="resumes"
# SUPABASE_KEY="your-anon-public-key"

# =============================================================================
# REQUIRED FOR PRODUCTION - Email
# =============================================================================

# Email provider: SMTP | POSTMARK | SENDGRID | SES
EMAIL_PROVIDER="SMTP"

# --- Option 1: Postmark (Recommended for production) ---
# POSTMARK_API_KEY="your-postmark-server-api-token"
# POSTMARK_FROM_EMAIL="noreply@yourdomain.com"

# --- Option 2: SMTP (Gmail, SendGrid SMTP, etc.) ---
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_USER="your-email@gmail.com"
# SMTP_PASSWORD="your-app-password"
# SMTP_FROM="Your Name <your-email@gmail.com>"

# =============================================================================
# REQUIRED FOR PRODUCTION - Rate Limiting
# =============================================================================

# Upstash Redis (for distributed rate limiting in serverless)
# Get free tier at: https://upstash.com
# Without this, rate limiting uses in-memory storage (doesn't work in serverless!)
# UPSTASH_REDIS_REST_URL="https://your-instance.upstash.io"
# UPSTASH_REDIS_REST_TOKEN="your-upstash-rest-token"

# Rate limit configuration (optional - has sensible defaults)
# RATE_LIMIT_MAX_REQUESTS="10"
# RATE_LIMIT_WINDOW_MS="60000"

# =============================================================================
# RECOMMENDED FOR PRODUCTION - Security
# =============================================================================

# Cloudflare Turnstile (CAPTCHA)
# Get keys at: https://dash.cloudflare.com/turnstile
# NEXT_PUBLIC_TURNSTILE_SITE_KEY="your-turnstile-site-key"
# TURNSTILE_SECRET_KEY="your-turnstile-secret-key"

# Cron job secret (for secure cron endpoints)
# Generate with: openssl rand -hex 32
# CRON_SECRET="your-random-secret-for-cron-jobs"

# Migration secret (for secure database migration endpoints in production)
# Generate with: openssl rand -hex 32
# MIGRATE_SECRET="your-random-secret-for-migrations"

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# Node environment (automatically set by Next.js)
# NODE_ENV="development"

# Use direct database connection (bypasses pooler - for debugging)
# USE_DIRECT_CONNECTION="false"
